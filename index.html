<!DOCTYPE html>
<html>
	<head>
		
		<title>EcoDash</title>
	    <link href="/static/css/main.css" rel="stylesheet" type="text/css">
	
		<!-- Google Web Fonts. -->
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	
		<!-- The Google JavaScript loader tool (for the Maps, Charts APIs). -->
		<script src="https://www.google.com/jsapi"></script>
		
		<!-- Google Web Fonts. -->
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
		
		<!-- the google maps api -->
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCftEx2S9RjScdfNCGa4Z-8HgUVIUjOErk &v=3.exp&libraries=drawing"></script>
		
		<!-- Load JavaScript -->
		<script src="/static/js/script.js"></script>
	
		<!-- Load jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	</head>
	
	
	<body>
	
		<!-- The page header. -->	
		<section id="pageheader">	
		<div class="logos">
		   <a href="https://www.usaid.gov/" target="_blank"><img id="usaid" src="static/images/usaid.png" alt="USAID">
		   <a href="https://www.nasa.gov/" target="_blank"><img id="nasa" src="static/images/nasa.png" alt="NASA"></a>
		   <a href="http://www.adpc.net" target="_blank"><img id="adpc" src="static/images/adpclogo.jpg" alt="ADPC"></a> 
		   <a href="http://servir.adpc.net/" target="_blank"><img id="servir" src="static/images/servir.png" alt="SERVIR"></a> 
		</div>
		

		<!-- The nav bar. -->
		<nav>
		<ul>
			<li class="highlight">Home</li>
			<li class="highlight">About</li>
		</ul>
		</nav>
		</section>

		<!-- The page content -->
	    <section id="pagecontent">
		
			<!-- The DOM of the application. -->
			<div id="ecodash">
			
			<!-- block with general info --> 
			<div id="general-info">
				<h1>Sustainable Landscapes Ecosystem Monitoring Tool (EcoDash)</h1>
				<hr><p>This tool might best be thought of as a "landscape calculator" leveraging the extensive MODIS satellite archive and processing power
				   available via Google Earth Engine to facilitate the comparison of baseline conditions in an area during a reference period with one 
				   or more contrasting points in time. In its current implementation, the data
				   focus is the widely used "Enhanced Vegetation Index", a measure of an
				   area's bioproductivity. The user can specify the reference and study
				   periods as well as one or more areas of interest and view results</p>
				   <p>Follow the numbered steps in the right panel to get started.</p>
				   <p>EcoDash is a collaborative effort between its developers and its community of users. 
				   We welcome suggestions for improvements on our <a href="https://github.com/Servir-Mekong/ecodash/issues" target="_blank">Github</a>issues page.</p>
				   <input id="start-button" type="button" name="start-button" value="Get Started!">
		   </div>

			
			
			
			<!-- The element into which Google Maps is rendered. -->
			<div id="map"></div>
			
			
			<div id="settings-button">☰</div>
			
			<!-- The element with all sliders and buttons. -->		
			<div id="ui" style="display: block;">
				
				<header>
					<h1>EcoDash Controls</h1>
					<div id="collapse-button">«</div>
					<input id="info-button" type="button" name="info-button" value="i">
				</header>

				<div id="controls">
															
					<h3>Select a time period for the baseline EVI</h3>
					<div class="range-slider"><p>2006 - 2008</p>
					<input type="range" min="2000" max="2017" step="1" value="2006", name="slider1" id="slider1">
					<input type="range" min="2000" max="2017" step="1" value="2008", name="slider2" id="slider2">
					</div>
					
					<h3>Select a time period to measure ∆EVI</h3>
					<div class="range-slider"><p>2009 - 2011</p>
					<input type="range" min="2000" max="2017" step="1" value="2009",name="slider3" id="slider3">
					<input type="range" min="2000" max="2017" step="1" value="2011",name="slider4" id="slider4">
					</div>
					
					<button id="updateMap">Update map</button>	
					
					<h3>Step 4: Choose a polygon selection method</h3>
					<ul>
					<li><input type="radio" name="polygon-selection-method" value="Province" id="polygon-selection-method"><label>Province</label></li>
					<li><input type="radio" name="polygon-selection-method" value="Country" id="polygon-selection-method"><label>Country</label></li>
					<li><input type="radio" name="polygon-selection-method" value="Draw Polygon" id="polygon-selection-method"><label>Draw Polygon</label></li></ul>
					
					<h3>Click a polygon on the map or draw your own</h3><p id="polygon">Selection:<em></em></p>
					
					<h3>Step 6: Review the historical ∆EVI in the selection</h3>
					<div id="chart" style="display: none;"></div>
					
				</div>	
			</div> <!-- end of ui display block -->
		</div> 	<!-- end of ecodash -->

	    </section>

		
		<!-- the page footer -->
		 <section id="pagefooter">
		 <div class="logos">
		   <a href="http://sig-gis.com/" target="_blank"><img id="sig" src="/static/images/logosig.png" alt="SIG">
		   <a href="https://www.sei-international.org/" target="_blank"><img id="sei" src="/static/images/sei_tr.png" alt="SEI"></a>
		   <a href="http://deltares.nl/" target="_blank"><img id="deltares" src="/static/images/deltares_tr.png" alt="Deltares"></a> 	 
		 </div>
		 </section>


		<!-- Boot application once the body loads. -->
		<script>
			// Here we get the mapid and token for the map tiles that were generated by Earth Engine using the Python script server.py and injected using the Jinja2 templating engine.
			boot(
          '{{ eeMapId | safe }}',
          '{{ eeToken | safe }}',
          '{{ serializedPolygonIds_country | safe }}',
          '{{ serializedPolygonIds_province | safe }}');
		</script>
		
	</body>
</html>
